/* jquery linenumbers v1.0.0 - 05/27/2012 */
(function($){$.fn.linenumbers=function(in_opts){var opt=$.extend({col_width:'25px',start:1,digits:4.},in_opts);return this.each(function(){var new_textarea_width=(parseInt($(this).css('width'))-parseInt(opt.col_width))+'px';$(this).before('<div style="width:'+$(this).css('width')+';"><textarea style="width:'+new_textarea_width+';float:left;margin-right:'+'-'+new_textarea_width+';font-family:monospace;white-space:pre;overflow:hidden;" disabled="disabled"></textarea>');$(this).after('<div style="clear:both;"></div></div>');$(this).css({'font-family':'monospace','width':new_textarea_width,'float':'right'});var lnbox=$(this).parent().find('textarea[disabled="disabled"]');$(this).bind('blur focus change keyup keydown',function(){var lines="\n"+$(this).val();lines=lines.match(/[^\n]*\n[^\n]*/gi);var line_number_output='';var max_spacers='';var spacers='';for(i=0;i<opt.digits;i++){max_spacers+=' ';}$.each(lines,function(k,v){if(k!=0){line_number_output+="\n";}lencheck=k+opt.start+'!';spacers=max_spacers.substr(lencheck.length-1);line_number_output+=spacers+(k+opt.start)+':'+v.replace(/\n/gi,'').replace(/./gi,' ').substr(opt.digits+1);});$(lnbox).val(line_number_output);$(lnbox).scrollTop($(this).scrollTop());})$(this).scroll(function(){$(lnbox).scrollTop($(this).scrollTop());});$(this).trigger('keyup');});};})(jQuery);